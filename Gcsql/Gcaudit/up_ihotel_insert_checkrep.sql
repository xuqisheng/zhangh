DELIMITER $$

DROP PROCEDURE IF EXISTS `up_ihotel_insert_checkrep`$$

CREATE PROCEDURE `up_ihotel_insert_checkrep`()

SQL SECURITY INVOKER

BEGIN

	
	DROP TEMPORARY TABLE IF EXISTS report_center_copy;
	CREATE TEMPORARY TABLE report_center_copy LIKE report_center;

	insert into `report_center_copy` (`hotel_group_id`, `hotel_id`, `rep_category`, `list_split`, `rep_type`, `code`, `alias_code`, `descript`, `descript_en`, `remark`, `allow_appcode`, `rep_define`, `param_win`, `lic_code`, `is_orientation`, `is_sys`, `is_halt`, `list_order`, `create_user`, `create_datetime`, `modify_user`, `modify_datetime`, `is_dispatch`, `count_sql`) values
	('2','9','X','','','GSYS-X012','OT012','工程检查/余额相关','工程检查1','','','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r<jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ipms_report_template\" language=\"groovy\" pageWidth=\"840\" pageHeight=\"595\" orientation=\"Landscape\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"800\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\">\r	<property name=\"ireport.zoom\" value=\"1.5\"/>\r	<property name=\"ireport.x\" value=\"350\"/>\r	<property name=\"ireport.y\" value=\"0\"/>\r	<parameter name=\"IPMS_CURRENT_USER\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL_GROUP\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_STATION\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_CASHIER\" class=\"java.lang.Long\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_APPLICATION\" class=\"java.lang.Long\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_LANGUAGE\" class=\"java.lang.String\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_CURRENT_REPORT\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_DATE\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_DATE\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_MONTH_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_MONTH_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_MONTH_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL_ID\" class=\"java.lang.Long\" isForPrompting=\"false\">\r		<defaultValueExpression><![CDATA[$P{IPMS_HOTEL}.getId()]]></defaultValueExpression>\r	</parameter>\r	<parameter name=\"IPMS_HOTEL_GROUP_ID\" class=\"java.lang.Long\" isForPrompting=\"false\">\r		<defaultValueExpression><![CDATA[$P{IPMS_HOTEL_GROUP}.getId()]]></defaultValueExpression>\r	</parameter>\r	<queryString>\r		<![CDATA[CALL `up_ihotel_maint_check_balance`($P{IPMS_HOTEL_GROUP_ID},$P{IPMS_HOTEL_ID})]]>\r	</queryString>\r	<field name=\"biz_date\" class=\"java.lang.String\"/>\r	<field name=\"check_msg\" class=\"java.lang.String\"/>\r	<field name=\"dai_last_bl\" class=\"java.lang.String\"/>\r	<field name=\"dai_till_bl\" class=\"java.lang.String\"/>\r	<field name=\"snap_last_bl\" class=\"java.lang.String\"/>\r	<field name=\"snap_till_bl\" class=\"java.lang.String\"/>\r	<field name=\"diff_last_bl\" class=\"java.lang.String\"/>\r	<field name=\"diff_till_bl\" class=\"java.lang.String\"/>\r	<background>\r		<band splitType=\"Stretch\"/>\r	</background>\r	<title>\r		<band height=\"59\" splitType=\"Stretch\">\r			<textField>\r				<reportElement x=\"0\" y=\"0\" width=\"800\" height=\"22\"/>\r				<textElement textAlignment=\"Center\">\r					<font size=\"15\" isBold=\"false\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_HOTEL}.getDescript()]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"0\" y=\"22\" width=\"800\" height=\"20\"/>\r				<textElement textAlignment=\"Center\">\r					<font size=\"12\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_CURRENT_REPORT}.getDescript()]]></textFieldExpression>\r			</textField>\r			<textField isBlankWhenNull=\"true\">\r				<reportElement x=\"454\" y=\"42\" width=\"346\" height=\"17\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font size=\"10\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_SYSTEM_DATE}.toLocaleString() +\"/\"+$P{IPMS_CURRENT_USER}.getName()]]></textFieldExpression>\r			</textField>\r		</band>\r	</title>\r	<columnHeader>\r		<band height=\"16\" splitType=\"Stretch\">\r			<staticText>\r				<reportElement x=\"0\" y=\"0\" width=\"316\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[检查项目]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"316\" y=\"0\" width=\"68\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[营业日期]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"384\" y=\"0\" width=\"70\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[底表上日余额]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"454\" y=\"0\" width=\"70\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[底表本日余额]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"524\" y=\"0\" width=\"70\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[快照上日余额]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"594\" y=\"0\" width=\"70\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[快照本日余额]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"664\" y=\"0\" width=\"68\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[上日差额]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"732\" y=\"0\" width=\"68\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[本日差额]]></text>\r			</staticText>\r		</band>\r	</columnHeader>\r	<detail>\r		<band height=\"15\" splitType=\"Stretch\">\r			<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\r				<reportElement x=\"0\" y=\"0\" width=\"316\" height=\"15\"/>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{check_msg}]]></textFieldExpression>\r			</textField>\r			<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\r				<reportElement x=\"400\" y=\"0\" width=\"155\" height=\"15\"/>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r			</textField>\r			<textField>\r				<reportElement x=\"316\" y=\"0\" width=\"68\" height=\"15\"/>\r				<textElement>\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{biz_date}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"384\" y=\"0\" width=\"70\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{dai_last_bl}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"454\" y=\"0\" width=\"70\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{dai_till_bl}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"524\" y=\"0\" width=\"70\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{snap_last_bl}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"594\" y=\"0\" width=\"70\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{snap_till_bl}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"664\" y=\"0\" width=\"68\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{diff_last_bl}]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"732\" y=\"0\" width=\"68\" height=\"15\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{diff_till_bl}]]></textFieldExpression>\r			</textField>\r		</band>\r	</detail>\r	<pageFooter>\r		<band height=\"15\" splitType=\"Stretch\">\r			<textField>\r				<reportElement x=\"332\" y=\"0\" width=\"93\" height=\"15\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[\"Page (\"+$V{PAGE_NUMBER}+\"/\"]]></textFieldExpression>\r			</textField>\r			<textField evaluationTime=\"Report\">\r				<reportElement x=\"425\" y=\"0\" width=\"98\" height=\"15\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$V{PAGE_NUMBER}+\")\"]]></textFieldExpression>\r			</textField>\r		</band>\r	</pageFooter>\r</jasperReport>','','','F','F','F','100','ADMIN','2017-12-18 13:48:49','ADMIN','2017-12-18 13:48:49','T',''),
	('2','9','X','','','GSYS-X013','OT013','工程检查/设置相关','工程检查2','','','<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r<jasperReport xmlns=\"http://jasperreports.sourceforge.net/jasperreports\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd\" name=\"ipms_report_template\" language=\"groovy\" pageWidth=\"595\" pageHeight=\"595\" orientation=\"Landscape\" whenNoDataType=\"AllSectionsNoDetail\" columnWidth=\"555\" leftMargin=\"20\" rightMargin=\"20\" topMargin=\"20\" bottomMargin=\"20\">\r	<property name=\"ireport.zoom\" value=\"1.5\"/>\r	<property name=\"ireport.x\" value=\"0\"/>\r	<property name=\"ireport.y\" value=\"0\"/>\r	<parameter name=\"IPMS_CURRENT_USER\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL_GROUP\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_STATION\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_CASHIER\" class=\"java.lang.Long\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_APPLICATION\" class=\"java.lang.Long\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_LANGUAGE\" class=\"java.lang.String\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_CURRENT_REPORT\" class=\"java.lang.Object\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_DATE\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_DATE\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_MONTH_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_MONTH_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_MONTH_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR_BEGIN\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_SYSTEM_YEAR_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_BIZ_YEAR_END\" class=\"java.util.Date\" isForPrompting=\"false\"/>\r	<parameter name=\"IPMS_HOTEL_ID\" class=\"java.lang.Long\" isForPrompting=\"false\">\r		<defaultValueExpression><![CDATA[$P{IPMS_HOTEL}.getId()]]></defaultValueExpression>\r	</parameter>\r	<parameter name=\"IPMS_HOTEL_GROUP_ID\" class=\"java.lang.Long\" isForPrompting=\"false\">\r		<defaultValueExpression><![CDATA[$P{IPMS_HOTEL_GROUP}.getId()]]></defaultValueExpression>\r	</parameter>\r	<queryString>\r		<![CDATA[CALL `up_ihotel_maint_check_base`($P{IPMS_HOTEL_GROUP_ID},$P{IPMS_HOTEL_ID})]]>\r	</queryString>\r	<field name=\"flag\" class=\"java.lang.String\"/>\r	<field name=\"check_msg\" class=\"java.lang.String\"/>\r	<background>\r		<band splitType=\"Stretch\"/>\r	</background>\r	<title>\r		<band height=\"59\" splitType=\"Stretch\">\r			<textField>\r				<reportElement x=\"0\" y=\"0\" width=\"555\" height=\"22\"/>\r				<textElement textAlignment=\"Center\">\r					<font size=\"15\" isBold=\"false\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_HOTEL}.getDescript()]]></textFieldExpression>\r			</textField>\r			<textField>\r				<reportElement x=\"0\" y=\"22\" width=\"555\" height=\"20\"/>\r				<textElement textAlignment=\"Center\">\r					<font size=\"12\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_CURRENT_REPORT}.getDescript()]]></textFieldExpression>\r			</textField>\r			<textField isBlankWhenNull=\"true\">\r				<reportElement x=\"93\" y=\"42\" width=\"462\" height=\"17\"/>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font size=\"10\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$P{IPMS_SYSTEM_DATE}.toLocaleString() +\"/\"+$P{IPMS_CURRENT_USER}.getName()]]></textFieldExpression>\r			</textField>\r		</band>\r	</title>\r	<columnHeader>\r		<band height=\"16\" splitType=\"Stretch\">\r			<staticText>\r				<reportElement x=\"0\" y=\"0\" width=\"93\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[标记]]></text>\r			</staticText>\r			<staticText>\r				<reportElement x=\"93\" y=\"0\" width=\"462\" height=\"16\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Center\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"true\"/>\r				</textElement>\r				<text><![CDATA[检查结果]]></text>\r			</staticText>\r		</band>\r	</columnHeader>\r	<detail>\r		<band height=\"53\" splitType=\"Stretch\">\r			<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\r				<reportElement x=\"0\" y=\"0\" width=\"93\" height=\"53\"/>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{flag}]]></textFieldExpression>\r			</textField>\r			<textField isStretchWithOverflow=\"true\" isBlankWhenNull=\"true\">\r				<reportElement stretchType=\"RelativeToTallestObject\" x=\"93\" y=\"0\" width=\"462\" height=\"53\" isPrintWhenDetailOverflows=\"true\"/>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$F{check_msg}]]></textFieldExpression>\r			</textField>\r		</band>\r	</detail>\r	<pageFooter>\r		<band height=\"15\" splitType=\"Stretch\">\r			<textField>\r				<reportElement x=\"332\" y=\"0\" width=\"93\" height=\"15\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement textAlignment=\"Right\" verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[\"Page (\"+$V{PAGE_NUMBER}+\"/\"]]></textFieldExpression>\r			</textField>\r			<textField evaluationTime=\"Report\">\r				<reportElement x=\"425\" y=\"0\" width=\"98\" height=\"15\"/>\r				<box>\r					<bottomPen lineWidth=\"0.5\"/>\r				</box>\r				<textElement verticalAlignment=\"Middle\">\r					<font size=\"9\" pdfFontName=\"STSong-Light\" pdfEncoding=\"UniGB-UCS2-H\" isPdfEmbedded=\"false\"/>\r				</textElement>\r				<textFieldExpression class=\"java.lang.String\"><![CDATA[$V{PAGE_NUMBER}+\")\"]]></textFieldExpression>\r			</textField>\r		</band>\r	</pageFooter>\r</jasperReport>','','','F','F','F','100','ADMIN','2017-12-18 13:49:08','ADMIN','2017-12-18 13:49:08','T','');


	INSERT INTO `report_center` (`hotel_group_id`, `hotel_id`, `rep_category`, `list_split`, `rep_type`, `code`, `alias_code`, `descript`, `descript_en`, `remark`, `allow_appcode`, `rep_define`, `param_win`, `lic_code`, `is_orientation`, `is_sys`, `is_halt`, `list_order`, `create_user`, `create_datetime`, `modify_user`, `modify_datetime`, `is_dispatch`, `count_sql`)
	SELECT t.hotel_group_id ,t.hotel_id, `rep_category`, `list_split`, `rep_type`, `code`, `alias_code`, `descript`, `descript_en`, `remark`, `allow_appcode`, `rep_define`, `param_win`, `lic_code`, `is_orientation`, `is_sys`, `is_halt`, `list_order`, 'SYS', NOW(), 'SYS', NOW(), `is_dispatch`, `count_sql`
	FROM report_center_copy s, (SELECT hotel_group_id,id hotel_id FROM hotel) AS t 
	WHERE NOT EXISTS (SELECT 1 FROM report_center c WHERE c.hotel_group_id = t.hotel_group_id AND c.hotel_id = t.hotel_id AND c.rep_category = s.rep_category AND c.code = s.code )
	ORDER BY hotel_group_id,id;

END$$

DELIMITER ;

SELECT MAX(id) INTO @a FROM report_center; 
CALL up_ihotel_insert_checkrep();

DROP TEMPORARY TABLE IF EXISTS report_center_copy;
DROP PROCEDURE IF EXISTS `up_ihotel_insert_checkrep`;

SELECT MAX(id) INTO @b FROM report_center;

INSERT INTO sync_data(hotel_group_id,hotel_id,flag,entity_name,entity_id,sync_type)
SELECT hotel_group_id,hotel_id,DATE_FORMAT( NOW(),'%Y%m%d%H%i%s000'),'ReportCenter',id,'ADD'
FROM report_center WHERE id > @a AND id<= @b;