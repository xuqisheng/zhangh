零、过程简述
  1、研究原系统数据，搞清楚取值方式
  2、将数据导入中间表migrate_db.membercard
  3、执行sql导入正式数据库
  4、通过报表等进行检查


一、安装mysql-odbc驱动，用于pb连接：
  1、安装mysql-connector-odbc-5.1.7-win32.msi文件；
  2、将myodbc5S.dll文件覆盖原安装目录中文件,解决odbc配置后点击修改报错问题；

二、根据文档建立pb管道，作数据迁移：
  1、利用SQLyog在目标数据库中建立中间库,库名为migrate_db；
  2、根据<用PB6迁移数据：SYBASE-MYSQL.doc>文档作ODBC配置及管道数据迁移；
  3、根据<OPMS-IHOTEL简易数据迁移.doc>文档作相应模块内容数据迁移(可选)；
  4、会员卡模块数据迁移相关表:会员卡表、客户档案表、会员积分表、AR储值账户表等等；
  5、核对迁移到migrate_db中的表数据与西软系统中报表数据，比如：会员卡数、储值总额、积分总额等(重要),并填写<会员数据导入报告>前半部分,酒店确认

三、根据实际情况,修改<数据预处理.sql>过程(此过程在migrate_db库中执行)；如西软系统不同版本，excel导入
  1、针对迁移到中间库(migrate_db)中的表增加相应的主键或索引；
  2、建立对照表作相应内容翻译，对照表需要的内容已在<数据预处理.sql>中作备注,可参考<对照表代码的例子.sql>; 
  3、<数据预处理.sql>建议逐条在SQLyog执行；
  4、原始数据经过处理加工后，将在表membercard中生成最终内容；

四、执行标准过程<会员卡数据导入.sql>(此过程中目标数据库中执行，如portal)：

五、ihotel系统中核对导入后相关信息:
  1、核对会员卡数、会员积分数、储值余额等等内容(重要),并填写<会员数据导入报告>后半部分,酒店签字确认；

备注:若多家成员店数据需要导入，逐家导入，在前一家导入完成后，修改原始数据表和membercard表
     的表名，建议酒店前缀+表名形式作备份。
再备注：实施过程中，有问题请教张惠。